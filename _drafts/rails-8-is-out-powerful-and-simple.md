Rails 8.0 is among us and brings many cool new features that serve the mission of making the Rails development workflow more simple yet poweful.

# Authentication

> "The medicine you don't wanna take but it's good for you" - DHH

Rails 8.0 brings a new way to handle authentication, which is intended to be clear and put developers on the right path to know what's going on.

> "Rails 8 is not going to ship with Devise. It's not going to ship with a black box security" - DHH

Is this the beginning of the end of separate auth gems?

It's implemented through generations. Executing the command `bin/rails generate authentication` will generate the files needed to start the basic authentication setup.

Below is the list of files generated by the command:

```
app/models/current.rb
app/models/user.rb
app/models/session.rb
app/controllers/sessions_controller.rb
app/controllers/passwords_controller.rb
app/mailers/passwords_mailer.rb
app/views/sessions/new.html.erb
app/views/passwords/new.html.erb
app/views/passwords/edit.html.erb
app/views/passwords_mailer/reset.html.erb
app/views/passwords_mailer/reset.text.erb
db/migrate/xxxxxxx_create_users.rb
db/migrate/xxxxxxx_create_sessions.rb
test/mailers/previews/passwords_mailer_preview.rb
```

As you can see it has the whole structure needed for sessions, password reset, and user management. It solves 90% of the cases, but if you need to customize it, you can do so by changing the generated files.

# Solid Trifecta

Modern web applications used to require multiple data storage. One for websockets updates, another for cache, and another for the main data.

We don't have this necessity anymore. We can collapse all of them into a single storage. SSD drives are fast enough to make the difference between them and RAM almost insignificant for most operations.

Solid Trifecta is this set of database-backed adapters that can be used to replace the traditional Redis, RabbitMQ, and other storages.

## [Solid Cable for Action Cable](https://github.com/rails/solid_cable)

It's a database-backed adapter for ActionCable that uses the main database to store the websocket updates.

## [Solid Cache](https://github.com/rails/solid_cache)

Solid Cache is the new and default cache adapter for Active Support.

## [Solid Queue](https://github.com/rails/solid_queue)

Now this is a killer feature. Solid Queue is here to reduce the overhead of having a queue system. There's no need for a plethora of gems and complex configurations. It's simple to get it working whether you want to deploy a single or dedicated queue server.

Solid Queue also brings the capability to have recurring jobs.

The Trifecta is FullFeatured for the three major database systems: MySQL, PostgreSQL, and SQLite.

# [Thruster](https://github.com/basecamp/thruster)

Thruster is a non-config by default, HTTP/2 proxy for simple production ready deployments of Rails applications. It runs alongside the Puma webserver to provide a few additional features that help your app run efficiently and safely on the open Internet:

- HTTP/2 support
- Automatic TLS certificate management with Let's Encrypt
- Basic HTTP caching of public assets
- X-Sendfile support and compression, to efficiently serve static files

Thruster is installed by default (to skip use `--skip-thruster`) and will be
used to serve your Rails application in production.

In the Dockerfile generated by rails new you will see the following line:

```Dockerfile
CMD ["./bin/thrust", "./bin/rails", "server"]
```

# What more?

- [**Propshaft**](https://github.com/rails/propshaft) is now the default asset pipeline for Rails applications. It's a modern, fast, and simple asset
    pipeline.
- [**Kamal**](https://github.com/basecamp/kamal) Rails 8.0 will generate a `config/deploy.yml` for Kamal deployments. This can be skipped with the `--skip-kamal`
    option.
- **New internal page for notes:** a page at `/rails/info/notes`, that displays the same information as `bin/rails` notes.
- **Migrations not-null modifier:** During migration generation you can use bang `!` to add `null: false` to the column
    (e.g. `bin/rails generate migration CreateUsers email_address:string!:uniq password_digest:string!`).
- **Query log tags enabled by default in the development environment:** This can be used to trace troublesome SQL statements back to the application code that generated these statements.
- **Deprecate bin/rake stats:** Replaced with `bin/rails stats`.

# Conclusion

From development to deployment Rails 8.0 makes it easier to tackle the most common problems in web development. With Solid Trifecta, you can reduce the complexity of your stack and make it easier to maintain and scale your application. With Authentication, you can have a clear path to follow and understand what's going on in your application which empowers you to make better decisions.

I'm excited to see what the community will build with Rails 8.0.

Happy coding and [Count on Codeminer42](https://www.codeminer42.com/#talk-to-us) if you need help on migrating or introducing your team to Rails 8!

# References

- [Rails 8.0 Changelog](https://github.com/rails/rails/blob/main/railties/CHANGELOG.md)
- [Pre-Release](https://github.com/rails/rails/releases/tag/v8.0.0.beta1)
- [DHH's Rails World Opening Keynote](https://youtu.be/-cEn_83zRFw?si=SVxFn9R1cq1Jt7d1)
